# {{projectName}} - SaaS Starter

> {{projectDescription}}

## ğŸš€ CaracterÃ­sticas

Este projeto SaaS foi criado com o **Archbase CLI** e inclui:

### ğŸ” AutenticaÃ§Ã£o e SeguranÃ§a
{{#if features.authentication}}
- âœ… **AutenticaÃ§Ã£o Completa** - Login, registro, recuperaÃ§Ã£o de senha
{{#if authProviders.email}}
- ğŸ”¹ **Email/Password** - AutenticaÃ§Ã£o tradicional
{{/if}}
{{#if authProviders.google}}
- ğŸ”¹ **Google OAuth** - Login social
{{/if}}
{{#if authProviders.github}}
- ğŸ”¹ **GitHub OAuth** - Para desenvolvedores
{{/if}}
{{#if authProviders.microsoft}}
- ğŸ”¹ **Microsoft OAuth** - IntegraÃ§Ã£o empresarial
{{/if}}
{{#if authProviders.saml}}
- ğŸ”¹ **SAML SSO** - Single Sign-On empresarial
{{/if}}
{{/if}}

### ğŸ¢ Multitenancy
{{#if features.multitenancy}}
- âœ… **Arquitetura Multi-Tenant** - Isolamento completo de dados
- ğŸ”¹ **Modelo**: {{tenancyModel}}
- ğŸ”¹ **Tenant Switching** - AlternÃ¢ncia entre organizaÃ§Ãµes
- ğŸ”¹ **Data Isolation** - SeguranÃ§a e privacidade garantidas
{{/if}}

### ğŸ’³ Assinaturas e CobranÃ§a
{{#if features.subscription-billing}}
- âœ… **Sistema de Assinaturas** - Modelo: {{subscriptionModel}}
{{#if billingProviders.stripe}}
- ğŸ’³ **Stripe** - CartÃµes e pagamentos automÃ¡ticos
{{/if}}
{{#if billingProviders.paddle}}
- ğŸ’³ **Paddle** - Pagamentos globais
{{/if}}
{{#if billingProviders.chargebee}}
- ğŸ’³ **Chargebee** - Billing avanÃ§ado
{{/if}}

#### Planos PadrÃ£o:
{{#if defaultPlans.free}}
- ğŸ†“ **Gratuito** - AtÃ© 5 usuÃ¡rios
{{/if}}
{{#if defaultPlans.starter}}
- ğŸš€ **Starter** - $29/mÃªs - AtÃ© 25 usuÃ¡rios
{{/if}}
{{#if defaultPlans.professional}}
- ğŸ’¼ **Professional** - $99/mÃªs - AtÃ© 100 usuÃ¡rios
{{/if}}
{{#if defaultPlans.enterprise}}
- ğŸ¢ **Enterprise** - $299/mÃªs - UsuÃ¡rios ilimitados
{{/if}}
{{/if}}

### ğŸ‘¥ Gerenciamento
{{#if features.user-management}}
- âœ… **GestÃ£o de UsuÃ¡rios** - Convites, roles e permissÃµes
{{/if}}
{{#if features.team-collaboration}}
- âœ… **ColaboraÃ§Ã£o em Equipe** - Workspaces e atividades
{{/if}}
{{#if features.dashboard-analytics}}
- âœ… **Dashboard e Analytics** - MÃ©tricas em tempo real
{{/if}}

### âš™ï¸ Funcionalidades AvanÃ§adas
{{#if features.api-management}}
- âœ… **API Management** - Keys, rate limiting e webhooks
{{/if}}
{{#if features.support-system}}
- âœ… **Sistema de Suporte** - Tickets e live chat
{{/if}}
{{#if features.email-campaigns}}
- âœ… **Email Marketing** - Campanhas automÃ¡ticas
{{/if}}
{{#if features.audit-logs}}
- âœ… **Audit Logs** - Compliance e seguranÃ§a
{{/if}}
{{#if features.white-label}}
- âœ… **White-label** - Branding customizado
{{/if}}

## ğŸ› ï¸ Stack TecnolÃ³gica

- **Frontend**: React 18 + TypeScript + Vite
- **UI**: Mantine + Archbase React
- **State**: Zustand + React Query
- **Auth**: JWT + OAuth2
- **Database**: {{database}}
{{#if eq cacheProvider "redis"}}
- **Cache**: Redis
{{/if}}
{{#if eq cacheProvider "memcached"}}
- **Cache**: Memcached
{{/if}}
- **Email**: {{emailProvider}}
- **Billing**: {{join billingProviders ", "}}
- **Deploy**: {{deploymentTarget}}

## ğŸš€ InÃ­cio RÃ¡pido

### PrÃ©-requisitos

- Node.js 16+
- npm 8+
{{#if useDocker}}
- Docker (opcional)
{{/if}}

### 1. InstalaÃ§Ã£o

```bash
# Instalar dependÃªncias
npm install

# Configurar ambiente
cp .env.example .env
```

### 2. ConfiguraÃ§Ã£o

Edite o arquivo `.env`:

```env
# Base
VITE_APP_NAME={{projectName}}
VITE_API_URL={{apiUrl}}

# Database
DATABASE_URL={{database}}://user:password@localhost:5432/{{projectName}}_db

{{#if eq cacheProvider "redis"}}
# Cache
REDIS_URL=redis://localhost:6379
{{/if}}

{{#if features.authentication}}
# Auth
JWT_SECRET=your-super-secret-jwt-key
JWT_EXPIRES_IN=7d

{{#if authProviders.google}}
# Google OAuth
GOOGLE_CLIENT_ID=your-google-client-id
GOOGLE_CLIENT_SECRET=your-google-client-secret
{{/if}}

{{#if authProviders.github}}
# GitHub OAuth
GITHUB_CLIENT_ID=your-github-client-id
GITHUB_CLIENT_SECRET=your-github-client-secret
{{/if}}
{{/if}}

{{#if features.subscription-billing}}
{{#if billingProviders.stripe}}
# Stripe
VITE_STRIPE_PUBLISHABLE_KEY=pk_test_...
STRIPE_SECRET_KEY=sk_test_...
STRIPE_WEBHOOK_SECRET=whsec_...
{{/if}}
{{/if}}

# Email
{{#if eq emailProvider "sendgrid"}}
SENDGRID_API_KEY=your-sendgrid-api-key
{{/if}}
{{#if eq emailProvider "mailgun"}}
MAILGUN_API_KEY=your-mailgun-api-key
MAILGUN_DOMAIN=your-mailgun-domain
{{/if}}
```

### 3. Configurar Banco de Dados

```bash
# Executar migrations
npm run db:migrate

# Popular com dados de exemplo
npm run seed
```

{{#if useDocker}}
### 4. Docker (Opcional)

```bash
# Subir stack completa
docker-compose up -d

# Verificar logs
docker-compose logs -f
```
{{/if}}

### 5. Executar

```bash
# Modo desenvolvimento
npm run dev

# Acesse: http://localhost:3000
```

## ğŸ“ Estrutura do Projeto

```
{{projectName}}/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/          # Componentes reutilizÃ¡veis
â”‚   â”‚   â”œâ”€â”€ auth/           # AutenticaÃ§Ã£o
â”‚   â”‚   â”œâ”€â”€ billing/        # CobranÃ§a e assinaturas
â”‚   â”‚   â”œâ”€â”€ dashboard/      # Dashboard
â”‚   â”‚   â”œâ”€â”€ tenant/         # Multitenancy
â”‚   â”‚   â”œâ”€â”€ user/           # UsuÃ¡rios
â”‚   â”‚   â”œâ”€â”€ team/           # Equipes
â”‚   â”‚   â”œâ”€â”€ settings/       # ConfiguraÃ§Ãµes
â”‚   â”‚   â””â”€â”€ common/         # Componentes comuns
â”‚   â”œâ”€â”€ pages/              # PÃ¡ginas da aplicaÃ§Ã£o
â”‚   â”‚   â”œâ”€â”€ auth/           # PÃ¡ginas de auth
â”‚   â”‚   â”œâ”€â”€ dashboard/      # Dashboard
â”‚   â”‚   â”œâ”€â”€ billing/        # CobranÃ§a
â”‚   â”‚   â”œâ”€â”€ settings/       # ConfiguraÃ§Ãµes
â”‚   â”‚   â””â”€â”€ admin/          # AdministraÃ§Ã£o
â”‚   â”œâ”€â”€ layouts/            # Layouts
â”‚   â”œâ”€â”€ hooks/              # Custom hooks
â”‚   â”œâ”€â”€ services/           # ServiÃ§os
â”‚   â”œâ”€â”€ store/              # Estado global
â”‚   â”œâ”€â”€ utils/              # UtilitÃ¡rios
â”‚   â”œâ”€â”€ types/              # Tipos TypeScript
â”‚   â””â”€â”€ styles/             # Estilos
â”œâ”€â”€ docs/                   # DocumentaÃ§Ã£o
{{#if useTests}}
â”œâ”€â”€ tests/                  # Testes
{{/if}}
{{#if useDocker}}
â”œâ”€â”€ docker-compose.yml      # Docker
{{/if}}
â””â”€â”€ README.md              # Este arquivo
```

## ğŸ—ï¸ Arquitetura Multitenancy

### Modelo: {{tenancyModel}}

{{#if eq tenancyModel "single-db"}}
**Single Database com Schema por Tenant**
- Um banco de dados
- Schema/namespace por tenant
- Melhor para muitos tenants pequenos
- Economia de recursos
{{/if}}

{{#if eq tenancyModel "multi-db"}}
**Multiple Databases**
- Banco separado por tenant
- Isolamento mÃ¡ximo
- Ideal para tenants grandes
- Maior complexidade
{{/if}}

{{#if eq tenancyModel "hybrid"}}
**Modelo HÃ­brido**
- ConfigurÃ¡vel por tenant
- Flexibilidade mÃ¡xima
- Permite migraÃ§Ã£o entre modelos
{{/if}}

### ImplementaÃ§Ã£o

```typescript
// Contexto de Tenant
const TenantContext = createContext<TenantInfo>();

// Hook para acessar tenant atual
const useTenant = () => {
  const context = useContext(TenantContext);
  return context;
};

// Isolamento de dados
class TenantDataSource<T> {
  constructor(private tenantId: string) {}
  
  async find(): Promise<T[]> {
    return api.get(`/tenants/${this.tenantId}/data`);
  }
}
```

## ğŸ’³ Sistema de Assinaturas

### Planos e PreÃ§os

```typescript
const plans = [
{{#if defaultPlans.free}}
  {
    id: 'free',
    name: 'Gratuito',
    price: 0,
    features: ['AtÃ© 5 usuÃ¡rios', 'Suporte bÃ¡sico'],
    limits: { users: 5, storage: '1GB' }
  },
{{/if}}
{{#if defaultPlans.starter}}
  {
    id: 'starter',
    name: 'Starter',
    price: 29,
    features: ['AtÃ© 25 usuÃ¡rios', 'Email support'],
    limits: { users: 25, storage: '10GB' }
  },
{{/if}}
{{#if defaultPlans.professional}}
  {
    id: 'professional',
    name: 'Professional',
    price: 99,
    features: ['AtÃ© 100 usuÃ¡rios', 'Priority support'],
    limits: { users: 100, storage: '100GB' }
  },
{{/if}}
{{#if defaultPlans.enterprise}}
  {
    id: 'enterprise',
    name: 'Enterprise',
    price: 299,
    features: ['UsuÃ¡rios ilimitados', '24/7 support'],
    limits: { users: -1, storage: 'Unlimited' }
  }
{{/if}}
];
```

### Controle de Acesso

```typescript
// Hook para verificar limites
const useSubscriptionLimits = () => {
  const { tenant } = useTenant();
  
  return {
    canAddUser: tenant.userCount < tenant.plan.limits.users,
    canUploadFile: tenant.storageUsed < tenant.plan.limits.storage,
    hasFeature: (feature: string) => tenant.plan.features.includes(feature)
  };
};
```

## ğŸ” AutenticaÃ§Ã£o e AutorizaÃ§Ã£o

### Sistema de Roles

```typescript
enum Role {
  OWNER = 'owner',         // Dono do tenant
  ADMIN = 'admin',         // Administrador
  MEMBER = 'member',       // Membro regular
  VIEWER = 'viewer'        // Apenas visualizaÃ§Ã£o
}

enum Permission {
  USER_MANAGE = 'user:manage',
  BILLING_MANAGE = 'billing:manage',
  SETTINGS_MANAGE = 'settings:manage',
  DATA_READ = 'data:read',
  DATA_WRITE = 'data:write'
}
```

### Guards e Hooks

```typescript
// ProteÃ§Ã£o de rotas
<ProtectedRoute requiredRole={Role.ADMIN}>
  <AdminPanel />
</ProtectedRoute>

// Hook de permissÃµes
const { hasPermission } = usePermissions();

{hasPermission(Permission.USER_MANAGE) && (
  <UserManagementButton />
)}
```

## ğŸ“Š Analytics e MÃ©tricas

### Dashboard Metrics

- **MRR** - Monthly Recurring Revenue
- **Churn Rate** - Taxa de cancelamento
- **LTV** - Lifetime Value
- **CAC** - Customer Acquisition Cost
- **Usage Metrics** - Uso por tenant

### ImplementaÃ§Ã£o

```typescript
const useDashboardMetrics = () => {
  return useQuery('dashboard-metrics', () => 
    api.get('/analytics/dashboard')
  );
};
```

## ğŸ”§ ConfiguraÃ§Ã£o AvanÃ§ada

### VariÃ¡veis de Ambiente

```env
# Multitenancy
TENANT_ISOLATION_MODE={{tenancyModel}}
MAX_TENANTS_PER_USER={{customization.saas.maxTenantsPerUser}}
MAX_USERS_PER_TENANT={{customization.saas.maxUsersPerTenant}}

# Security
SESSION_TIMEOUT={{customization.saas.sessionTimeout}}
PASSWORD_MIN_LENGTH={{customization.saas.passwordPolicy.minLength}}
REQUIRE_UPPERCASE={{customization.saas.passwordPolicy.requireUppercase}}

# Billing
BILLING_CURRENCY={{customization.saas.billing.currency}}
TRIAL_DAYS={{customization.saas.billing.trialDays}}
GRACE_PERIOD_DAYS={{customization.saas.billing.gracePeriodDays}}
```

### CustomizaÃ§Ã£o por Tenant

{{#if features.white-label}}
```typescript
// Branding por tenant
const useTenantBranding = () => {
  const { tenant } = useTenant();
  
  return {
    logo: tenant.branding?.logo || defaultLogo,
    colors: tenant.branding?.colors || defaultColors,
    domain: tenant.customDomain || `${tenant.slug}.myapp.com`
  };
};
```
{{/if}}

## ğŸš€ Deploy

### {{deploymentTarget}}

{{#if eq deploymentTarget "vercel"}}
```bash
# Instalar Vercel CLI
npm i -g vercel

# Deploy
vercel --prod
```

Configure as variÃ¡veis de ambiente no dashboard da Vercel.
{{/if}}

{{#if eq deploymentTarget "aws"}}
```bash
# AWS deployment
npm run build
aws s3 sync dist/ s3://your-bucket-name
```
{{/if}}

{{#if eq deploymentTarget "docker"}}
```bash
# Build da imagem
docker build -t {{projectName}} .

# Deploy no Kubernetes
kubectl apply -f k8s/
```
{{/if}}

{{#if useTests}}
## ğŸ§ª Testes

```bash
# Testes unitÃ¡rios
npm run test

# Testes E2E
npm run e2e

# Coverage
npm run test:coverage
```
{{/if}}

{{#if useStorybook}}
## ğŸ“š Storybook

```bash
# Executar Storybook
npm run storybook

# Build do Storybook
npm run build-storybook
```
{{/if}}

## ğŸ“š DocumentaÃ§Ã£o

- [Guia de Multitenancy](./docs/multitenancy.md)
- [Sistema de Billing](./docs/billing.md)
- [API Documentation](./docs/api.md)
- [Deployment Guide](./docs/deployment.md)

## ğŸ”’ SeguranÃ§a

- **HTTPS Everywhere** - SSL obrigatÃ³rio
- **JWT Tokens** - AutenticaÃ§Ã£o segura
- **Rate Limiting** - ProteÃ§Ã£o contra abuse
- **Data Encryption** - Dados sensÃ­veis criptografados
- **Audit Logs** - Rastreamento de aÃ§Ãµes
- **GDPR Compliance** - ProteÃ§Ã£o de dados

## ğŸ¤ Contribuindo

1. Fork o projeto
2. Crie uma branch para sua feature
3. Commit suas mudanÃ§as
4. Push para a branch
5. Abra um Pull Request

## ğŸ“„ LicenÃ§a

Este projeto estÃ¡ sob a licenÃ§a MIT. Veja o arquivo [LICENSE](LICENSE) para detalhes.

## ğŸ†˜ Suporte

- ğŸ“– [DocumentaÃ§Ã£o do Archbase](https://docs.archbase.com)
- ğŸ› [Issues](https://github.com/edsonmartins/archbase-cli/issues)
- ğŸ’¬ [Discussions](https://github.com/edsonmartins/archbase-cli/discussions)

---

**Criado com â¤ï¸ usando [Archbase CLI](https://github.com/edsonmartins/archbase-cli)**